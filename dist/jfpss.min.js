var jframes=jframes||{};void function(n){function e(n){1===c.push(n)&&(s=u(i))}function i(){var n=c;for(c=[];n.length;)a(n.pop());s=0}function r(n){var i=t(n);return e(i),i}function o(n){var e=c.indexOf(n);~e&&c.splice(e,1),0===c.length&&f(s)}function t(n){var i={index:0,time:+new Date,elapsed:0,action:n,next:function(){e(i)}};return i}function a(n){var e=+new Date,i=e-n.time;i>200&&(i=1e3/60),n.dur=i,n.elapsed+=i,n.time=e,n.action.call(null,n),n.index++}var s,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,1e3/60)},f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout,c=[];n.request=r,n.release=o}(jframes);var jfpss=jfpss||{};void function(n){function e(n){if(!o){f={lifespan:3e3,recordspan:1e3,maxRecords:10},n=n||{};for(var e in n)f[e]=n[e];var c=new Date;t=c,a=c,s=0,u=[],o=jframes.request(function(n){if(o){var e=new Date;if(s++,e-a>=f.recordspan){for(a=e,u.push({fps:s*(1e3/f.recordspan)});u.length>f.maxRecords;)u.shift();f.onrecord&&f.onrecord({records:u.slice(),median:i()}),s=0}e-t<=f.lifespan?n.next():r()}})}}function i(){if(u){var n=u.slice();return n.sort(function(n,e){return n.fps-e.fps}),n=n[parseInt(n.length/2)],n?n.fps:void 0}}function r(){o&&(jframes.release(o),f.onshutdown&&f.onshutdown({records:u.slice(),median:i()}),o=null,f=null,u=null)}var o,t,a,s,u,f;n.startup=e,n.shutdown=r}(jfpss);