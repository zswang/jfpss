var jfpss=jfpss||{};void function(e){if("undefined"==typeof jframes)return void console.log("jframes is not defined.");var n,r,s,o,f,i,a,t=function(e){if(!n){i={lifespan:3e3,recordspan:1e3,maxRecords:10},e=e||{};for(var t in e)i[t]=e[t];var u=new Date;r=u,s=u,o=0,a=0,f=[],n=jframes.request(function(e){if(n){var t=new Date;if(o++,t-s>=i.recordspan){for(s=t,f.push({index:a++,fps:o*(1e3/i.recordspan)});f.length>i.maxRecords;)f.shift();i.onrecord&&i.onrecord({records:f.slice(),median:d()}),o=0}i.lifespan<0||t-r<=i.lifespan?e.next():c()}})}},d=function(){if(f){var e=f.slice();return e.sort(function(e,n){return e.fps-n.fps}),e=e[parseInt(e.length/2)],e?e.fps:void 0}},c=function(){n&&(jframes.release(n),i.onshutdown&&i.onshutdown({records:f.slice(),median:d()}),n=null,i=null,f=null)};e.startup=t,e.shutdown=c}(jfpss);