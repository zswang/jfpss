!function(e){if("undefined"==typeof jframes)throw new Error("jframes is not defined.");var n,o,r,i,f,s,t,d=d||{},u=function(e){s=s||{lifespan:3e3,recordspan:1e3,maxRecords:10,precision:0},e=e||{};for(var n in e)s[n]=e[n]},a=function(e){if(!n){u(e);var d=new Date;o=d,r=d,i=0,t=0,f=[],n=jframes.request(function(e){if(n){var d=new Date;if(i++,d-r>=s.recordspan){for(f.unshift({index:t++,fps:(i*(1e3/(d-r))).toFixed(s.precision)}),r=d;f.length>s.maxRecords;)f.pop();s.onrecord&&s.onrecord({records:f.slice(),median:c}),i=0}s.lifespan<0||d-o<=s.lifespan?e.next():p()}})}},c=function(){if(f){var e=f.slice();return e.sort(function(e,n){return e.fps-n.fps}),e=e[parseInt(e.length/2)],e?e.fps:void 0}},p=function(){n&&(jframes.release(n),s.onshutdown&&s.onshutdown({records:f.slice(),median:c}),n=null,s=null,f=null)};d.config=u,d.startup=a,d.shutdown=p,"function"==typeof define?(define.amd||define.cmd)&&define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:window[e]=d}("jfpss");