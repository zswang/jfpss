var jfpss=jfpss||{};void function(n){if("undefined"==typeof jframes)return void console.log("jframes is not defined.");var e,r,s,o,i,f,t,a=function(n){f=f||{lifespan:3e3,recordspan:1e3,maxRecords:10,precision:0},n=n||{};for(var e in n)f[e]=n[e]},c=function(n){if(!e){a(n);var c=new Date;r=c,s=c,o=0,t=0,i=[],e=jframes.request(function(n){if(e){var a=new Date;if(o++,a-s>=f.recordspan){for(i.unshift({index:t++,fps:(o*(1e3/(a-s))).toFixed(f.precision)}),s=a;i.length>f.maxRecords;)i.pop();f.onrecord&&f.onrecord({records:i.slice(),median:d()}),o=0}f.lifespan<0||a-r<=f.lifespan?n.next():u()}})}},d=function(){if(i){var n=i.slice();return n.sort(function(n,e){return n.fps-e.fps}),n=n[parseInt(n.length/2)],n?n.fps:void 0}},u=function(){e&&(jframes.release(e),f.onshutdown&&f.onshutdown({records:i.slice(),median:d()}),e=null,f=null,i=null)};n.config=a,n.startup=c,n.shutdown=u}(jfpss);